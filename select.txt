CREATE OR REPLACE FORCE VIEW "SPRZATANIA" ("MIASTO", "ULICA", "NUMER", "DZIELNICA", "NAZWA", "IMIE", "NAZWISKO", "PESEL", "DZIEN") AS 
  select MIESZKANIE.MIASTO as MIASTO,
    MIESZKANIE.ULICA as ULICA,
    MIESZKANIE.NUMER as NUMER,
    MIESZKANIE.DZIELNICA as DZIELNICA,
    FIRMA_SPRZATAJACA.NAZWA as NAZWA,
    PRACOWNIK.IMIE as IMIE,
    PRACOWNIK.NAZWISKO as NAZWISKO,
    PRACOWNIK.PESEL as PESEL,
    DOSTEPNOSC.DZIEN as DZIEN 
 from DOSTEPNOSC_TO_PRACOWNIK DOSTEPNOSC_TO_PRACOWNIK,
    DOSTEPNOSC DOSTEPNOSC,
    MIESZKANIE MIESZKANIE,
    PRACOWNIK PRACOWNIK,
    FIRMA_SPRZATAJACA FIRMA_SPRZATAJACA 
 where PRACOWNIK.FIRMA_SPRZATAJACA_ID=FIRMA_SPRZATAJACA.ID
    and MIESZKANIE.FIRMA_SPRZATAJACA_ID=FIRMA_SPRZATAJACA.ID
    and DOSTEPNOSC_TO_PRACOWNIK.PRACOWNIK_ID=PRACOWNIK.ID
    and DOSTEPNOSC_TO_PRACOWNIK.DOSTEPNOSC_ID=DOSTEPNOSC.ID
    and MIESZKANIE.MIASTO = 'Gdansk'
  ORDER BY DOSTEPNOSC.DZIEN ASC
/


CREATE OR REPLACE FORCE VIEW "REMONTY" ("LICZEBNOSC", "NAZWA", "CENA", "DATA_KONCA", "UWAGI", "ZAKRES", "MIASTO", "ULICA", "NUMER", "DZIELNICA") AS 
  select EKIPA_REMONTOWA.LICZEBNOSC as LICZEBNOSC,
    EKIPA_REMONTOWA.NAZWA as NAZWA,
    REMONT.CENA as CENA,
    REMONT.DATA_KONCA as DATA_KONCA,
    REMONT.UWAGI as UWAGI,
    REMONT.ZAKRES as ZAKRES,
    MIESZKANIE.MIASTO as MIASTO,
    MIESZKANIE.ULICA as ULICA,
    MIESZKANIE.NUMER as NUMER,
    MIESZKANIE.DZIELNICA as DZIELNICA 
 from REMONT_TO_MIESZKANIE REMONT_TO_MIESZKANIE,
    MIESZKANIE MIESZKANIE,
    REMONT REMONT,
    EKIPA_REMONTOWA EKIPA_REMONTOWA 
 where REMONT.EKIPA_REMONTOWA_ID=EKIPA_REMONTOWA.ID
    and REMONT_TO_MIESZKANIE.REMONT_ID=REMONT.ID
    and REMONT_TO_MIESZKANIE.MIESZKANIE_ID=MIESZKANIE.ID
    and REMONT.CENA >= 1000
  ORDER BY MIESZKANIE.MIASTO DESC
/
